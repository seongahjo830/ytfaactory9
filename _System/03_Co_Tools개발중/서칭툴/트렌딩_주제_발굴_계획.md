# 🔥 트렌딩 주제 발굴 기능 추가 계획서

## 📋 목표
검색량이 급증하거나 지금 핫한 주제를 자동으로 발굴하는 기능 추가

---

## 🎯 기능 개요

### 1. 트렌딩 영상 자동 발굴
- **목적**: 지금 가장 인기 있는 영상들을 자동으로 찾기
- **방법**: YouTube Data API의 `mostPopular` 기능 활용
- **분류**: 카테고리별, 지역별, 언어별 트렌딩

### 2. 검색량 급증 키워드 분석
- **목적**: 최근 검색량이 급증한 키워드 찾기
- **방법**: 
  - 최근 업로드된 영상 중 조회수 급증 영상 분석
  - 시간대별 조회수 증가율 계산
  - 검색 결과 수 변화 추적

### 3. 카테고리별 인기 주제
- **목적**: 특정 카테고리에서 핫한 주제 찾기
- **카테고리**: 음악, 게임, 교육, 엔터테인먼트, 뉴스, 스포츠 등

### 4. 관련 키워드 추천
- **목적**: 검색한 키워드와 관련된 인기 키워드 제안
- **방법**: 
  - 유사 영상의 제목/태그 분석
  - 연관 검색어 추출
  - 트렌딩 관련 키워드 매칭

---

## 🛠️ 구현 단계

### Step 1: 트렌딩 영상 가져오기 기능
**기능**: 
- YouTube의 인기 영상 목록 가져오기
- 카테고리별 필터링 (음악, 게임, 교육 등)
- 지역별 필터링 (한국, 미국 등)

**API 사용**:
```python
youtube.videos().list(
    part='snippet,statistics',
    chart='mostPopular',
    regionCode='KR',
    categoryId='10',  # 음악
    maxResults=50
)
```

**UI**:
- 사이드바에 "🔥 트렌딩 주제 찾기" 탭 추가
- 카테고리 선택 드롭다운
- 지역 선택 (한국/전체)

---

### Step 2: 급증 키워드 분석
**기능**:
- 최근 7일/30일간 조회수 급증 영상 찾기
- 검색량 증가율 계산
- 급증 지수 점수화

**알고리즘**:
```
급증 지수 = (최근 조회수 증가량 / 영상 나이) × (최근 업로드 여부 가중치)
```

**UI**:
- "📈 급증 주제" 랭킹 추가
- 급증 지수 시각화 (차트)
- 시간대별 추이 그래프

---

### Step 3: 카테고리별 인기 주제
**기능**:
- 카테고리별 인기 영상 가져오기
- 주제 키워드 추출 (제목/태그 분석)
- 카테고리별 트렌드 요약

**카테고리 목록**:
- 음악 (10)
- 게임 (20)
- 자동차 (2)
- 뉴스 (25)
- 스포츠 (17)
- 여행 (19)
- 교육 (27)
- 과학기술 (28)
- 엔터테인먼트 (24)

**UI**:
- 카테고리 선택 탭
- 카테고리별 인기 키워드 태그 클라우드
- 주제별 영상 갤러리

---

### Step 4: 스마트 키워드 추천
**기능**:
- 현재 검색한 키워드와 관련된 트렌딩 키워드 추천
- 유사 영상의 제목/태그 분석
- 검색량 급증 관련 키워드 매칭

**알고리즘**:
1. 현재 키워드로 검색
2. 상위 영상들의 제목/태그에서 키워드 추출
3. 추출된 키워드로 재검색하여 검색량 확인
4. 급증 지수 높은 키워드 우선 추천

**UI**:
- "💡 추천 키워드" 섹션
- 클릭 가능한 키워드 태그
- 키워드별 급증 지수 표시

---

### Step 5: 통합 대시보드
**기능**:
- 트렌딩 주제 종합 대시보드
- 실시간 업데이트
- 필터링 및 정렬

**UI 구성**:
```
┌─────────────────────────────────────┐
│  🔥 트렌딩 주제 발굴                │
├─────────────────────────────────────┤
│  [탭] 트렌딩 | 급증 | 카테고리 | 추천│
├─────────────────────────────────────┤
│  📊 급증 지수 차트                  │
│  📈 시간대별 추이                   │
├─────────────────────────────────────┤
│  🎬 인기 영상 갤러리 (3열 그리드)   │
└─────────────────────────────────────┘
```

---

## 📊 데이터 수집 전략

### 1. 트렌딩 영상 수집
- **주기**: 실시간 (사용자 요청 시)
- **범위**: 최근 24시간 인기 영상
- **제한**: API 할당량 고려 (일일 10,000 units)

### 2. 급증 키워드 분석
- **방법**: 
  - 최근 업로드 영상 중 조회수 급증 영상 식별
  - 제목/태그에서 키워드 추출
  - 키워드별 검색량 집계
- **주기**: 실시간 분석

### 3. 카테고리별 수집
- **방법**: 카테고리별 mostPopular API 호출
- **캐싱**: 1시간마다 갱신 (API 할당량 절약)

---

## 🎨 UI/UX 개선 사항

### 사이드바 추가 메뉴
```
⚙️ 설정
├─ 🔍 키워드 검색 (기존)
└─ 🔥 트렌딩 주제 찾기 (신규)
   ├─ 📈 급증 주제
   ├─ 🎯 카테고리별 인기
   └─ 💡 키워드 추천
```

### 메인 화면 탭
```
[탭 1] 키워드 검색 결과 (기존)
[탭 2] 🔥 트렌딩 주제 (신규)
[탭 3] 📊 분석 대시보드 (신규)
```

---

## 🔧 기술 구현 세부사항

### 필요한 API 엔드포인트
1. `videos().list(chart='mostPopular')` - 인기 영상
2. `videos().list(order='viewCount')` - 조회수 순
3. `videos().list(order='rating')` - 평점 순
4. `search().list()` - 키워드 검색 (기존)

### 추가 라이브러리
- `matplotlib` 또는 `plotly` - 차트 시각화
- `wordcloud` - 키워드 클라우드 (선택사항)

### 성능 최적화
- API 호출 캐싱 (1시간)
- 배치 처리로 API 할당량 절약
- 비동기 처리 (선택사항)

---

## 📝 구현 우선순위

### Phase 1 (필수) ⭐⭐⭐
1. ✅ 트렌딩 영상 가져오기 (mostPopular)
2. ✅ 급증 키워드 분석 기본 기능
3. ✅ UI 탭 추가

### Phase 2 (중요) ⭐⭐
4. ✅ 카테고리별 필터링
5. ✅ 급증 지수 시각화
6. ✅ 키워드 추천 기본 기능

### Phase 3 (선택) ⭐
7. ⚪ 키워드 클라우드
8. ⚪ 시간대별 추이 그래프
9. ⚪ 자동 업데이트 기능

---

## 🚀 시작 방법

### Step 1: 트렌딩 영상 가져오기 함수 구현
```python
def get_trending_videos(api_key, region_code='KR', category_id=None, max_results=50):
    """트렌딩 영상 가져오기"""
    # 구현 필요
```

### Step 2: 급증 키워드 분석 함수
```python
def analyze_trending_keywords(api_key, days=7):
    """급증 키워드 분석"""
    # 구현 필요
```

### Step 3: UI 통합
- 사이드바에 트렌딩 탭 추가
- 메인 화면에 탭 추가
- 기존 기능과 통합

---

## 💡 사용 시나리오

### 시나리오 1: 트렌딩 주제 찾기
1. 사용자가 "🔥 트렌딩 주제 찾기" 클릭
2. 카테고리 선택 (예: 게임)
3. 한국 지역 트렌딩 영상 표시
4. 급증 지수 높은 영상 우선 표시

### 시나리오 2: 급증 키워드 발견
1. "📈 급증 주제" 탭 클릭
2. 최근 7일간 급증한 키워드 목록 확인
3. 키워드 클릭하여 관련 영상 확인
4. 스크립트 복사하여 활용

### 시나리오 3: 키워드 추천 받기
1. 키워드 검색 (예: "파이썬")
2. "💡 추천 키워드" 섹션 확인
3. 관련 트렌딩 키워드 발견 (예: "파이썬 AI", "파이썬 자동화")
4. 추천 키워드로 재검색

---

## ⚠️ 주의사항

1. **API 할당량**: YouTube Data API는 일일 할당량 제한이 있음
2. **캐싱 필수**: 트렌딩 데이터는 자주 변하지 않으므로 캐싱 활용
3. **에러 처리**: API 오류 시 사용자에게 명확한 메시지 표시
4. **성능**: 대량 데이터 처리 시 로딩 시간 고려

---

## 📌 다음 단계

1. 이 계획서 검토 및 승인
2. Step 1부터 순차적으로 구현 시작
3. 각 단계 완료 후 테스트 및 피드백
4. 최종 통합 및 최적화



